<!doctype html>
<html>
<head>
	<title>Tic Tac Toe</title>

	<link href='https://fonts.googleapis.com/css?family=Roboto:400,300,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="style/style.css">
</head>
<body>
	<div id="container">
		<h1>Tic Tac Toe - Reinforcement Learning</h1>
        <div class="training-choices">
            <div class="local">Train Locally</div>
            <div class="distributed">Train with Distributed Learning</div>
        </div>
		<div id="game">
            <div class="squares"></div>
            <div class="scores">
                <div class="total"></div>
            </div>
            <div class="persisting-msg">Persisting With Server</div>
            <div class="buttons">
                <div class="toggle">Start/Stop Training</div>
            </div>
            <div class="choices"></div>
        </div>
	</div>
	<script src="bower_components/jquery/dist/jquery.min.js"></script>
	<script src="bower_components/lodash/dist/lodash.min.js"></script>
	<script src="bower_components/backbone/backbone.js"></script>

    <script src="js/Q.js"></script>
    <script src="js/Player.js"></script>
	<script src="js/Square.js"></script>
	<script src="js/TicTacToe.js"></script>
	<script>
		$(function() {

            $(document).on('click', '.local', startTraining.bind(null, 'local'))
                       .on('click', '.distributed', startTraining.bind(null, 'distributed'));

            function startTraining(method) {
                $(document).off('click');
                $('.training-choices').hide();
                $('#game').show();
                var persist = method === 'distributed';
                $('.persisting-msg').toggleClass('show', persist);
                window.game = new TicTacToe({
                    'grid': 3,
                    'streak': 3,
                    'players': [
                        new Player({
                            'persist': persist,
                            'isSmart': true
                        }),
                        new Player({
                            'persist': persist,
                            'isComputer': true,
                            'isSmart': true,
                            'discover': 0.5
                        })
                    ]
                });
            }
		});
	</script>
</body>
</html>
